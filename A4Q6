#include <stdio.h>
#include <string.h>

// Structure to represent a book
struct Book {
    char title[100];
    char author[100];
    int year;
};

// Global array to store books
struct Book library[100];
int bookCount = 0;  // Number of books in the library

// Function to add a book to the library
void addBook() {
    if (bookCount < 100) {
        struct Book book;
        printf("Enter book title: ");
        getchar();
        fgets(book.title, 100, stdin);
        book.title[strcspn(book.title, "\n")] = '\0';  // Remove trailing newline
        printf("Enter author: ");
        fgets(book.author, 100, stdin);
        book.author[strcspn(book.author, "\n")] = '\0';  // Remove trailing newline
        printf("Enter year of publication: ");
        scanf("%d", &book.year);
        library[bookCount++] = book;
        printf("Book added successfully!\n");
    } else {
        printf("Library is full. Cannot add more books.\n");
    }
}

// Function to display details of a book
void displayBook(struct Book book) {
    printf("Title: %s\n", book.title);
    printf("Author: %s\n", book.author);
    printf("Year of publication: %d\n", book.year);
}

// Function to display all books in the library
void displayAllBooks() {
    if (bookCount == 0) {
        printf("No books in the library.\n");
    } else {
        printf("Books in the library:\n");
        for (int i = 0; i < bookCount; i++) {
            printf("Book %d:\n", i + 1);
            displayBook(library[i]);
            printf("\n");
        }
    }
}

// Function to list all books of a given author
void listBooksByAuthor() {
    char author[100];
    printf("Enter author name: ");
    getchar();
    fgets(author, 100, stdin);
    author[strcspn(author, "\n")] = '\0';  // Remove trailing newline

    int count = 0;
    for (int i = 0; i < bookCount; i++) {
        if (strcmp(library[i].author, author) == 0) {
            printf("Book %d:\n", count + 1);
            displayBook(library[i]);
            printf("\n");
            count++;
        }
    }

    if (count == 0) {
        printf("No books found for author '%s'.\n", author);
    } else {
        printf("Total books found: %d\n", count);
    }
}

// Function to display the count of books in the library
void displayBookCount() {
    printf("Total books in the library: %d\n", bookCount);
}

int main() {
    int choice;
    while (1) {
        printf("Library Management System\n");
        printf("1. Add book details\n");
        printf("2. Display book details\n");
        printf("3. List all books of given author\n");
        printf("4. List the count of books in the library\n");
        printf("5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1:
                addBook();
                break;
            case 2:
                displayAllBooks();
                break;
            case 3:
                listBooksByAuthor();
                break
